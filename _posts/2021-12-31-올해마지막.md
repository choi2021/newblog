# JSON이란

('드림코딩' 채널의 JSON부분을 공부하고 정리해보았다.)

JSON은 Javascript Object Notation의 약자로 **user와 server사이의 통신을 위해 주고 받는 데이터 형식**이다.

다른 형식으로 XHR (XMHTTPReqeust) 방식이 있지만 불필요한 Tag들이 많아 size가 커져 통신에 시간을 많이 차지해 JSON이 선호되고 있다고 한다.

## JSON의 장점

Json의 장점으로 총 크게 3가지를 꼽을 수 있다.

1. **Simplest data interchange format**
2. **Used for serialization and transmission**
3. **Independent programmin language**

이러한 장점으로 인해서 C, C++, Javascript 등 언어와 상관없이 사용할 수 있고 object로 구성되어 이해하고 일기 쉬운 form이기에 선호되고 있다.

## JSON의 API

JSON에는 크게 두가지 API가 존재하는데 JSON 파일을 string type으로 serialize하기 위한 **stringify**와 string type으로 전달 받은 JSON파일을 deserialize하기 위한 **parse**이다.

예시 1)

```Javascript
const rabbit={
  name:'tori';
  size: null,
  birthDate: new Date();
  jump: ()=> console.log(`can jump`);
};

const json=JSON.stringify(rabbit);
console.log(json)

// result
{
  "name":"tori",
  "size":null,
  "birthDate": "~~~2021-12-31"
}
```

결과를 보면 함수를 담고 있는 jump가 빠져있는 것을 볼 수 있는데 JSON.stringify는 함수나 Javascript만이 가지고 있는 Symbol과 같은 data는 전달하지 않는다.

예시 2)

```javascript
json=JSON.stringify(rabbit, ['name','color']);
console.log(json)

// result
{
  "name":"tori",
  "color":null
}
```

위 예시는 stringify로 전달할 때 데이터를 세세하게 가공해서 전달하는 방법이다. Object의 key중에서 내가 원하는 부분을 배열에 담아 전달하면 그 부분만 담아 전달 해줄 수 있다.

예시 3)

```javascript
json=JSON.stringify(rabbit,(key,value)=>{
  return key==='name'? 'yj':'value';
})

// result
{
  "name":"yj",
  "color":null
}
```

예시 3에는 함수를 전달해 데이터를 가공하는 법을 담고 있다.

예시 4)

```Javascript
const rabbit={
  name:'tori';
  size: null,
  birthDate: new Date();
  jump: ()=> console.log(`can jump`);
};

let json=JSON.stringify(rabbit);
json=JSON.parse(json);
console.log(json);

// result
{
  "name":"tori",
  "size":null,
  "birthDate": "~~~2021-12-31"
}
```

stringify를 통해서 JSON 파일을 만든 후 다시 parse를 통해 받았을 때 결과는 stringify를 통해 함수는 제외되어서 빠져있고 Date object를 담았었지만 string로 자료형이 바뀌면서 Date Object의 api를 사용할 수 없게 되었다.

예시 5)

```javascript
json = JSON.parse(json, (key, value) => {
  return key === "birthDate" ? new Date(value) : value;
});
```

위 예시는 Date object로 다시 바꾸는 방법을 담고 있다.
